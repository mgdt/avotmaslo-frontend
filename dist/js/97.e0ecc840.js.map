{"version":3,"file":"js/97.e0ecc840.js","mappings":"oPAgEOA,MAAM,a,uBACTC,EAAAA,EAAAA,GAA0D,MAAtDC,MAAA,0BAA4B,yBAAqB,M,wEADvDC,EAAAA,EAAAA,IAUM,MAVNC,EAUM,CATJC,GACAC,EAAAA,EAAAA,IAOEC,EAAAA,CANCC,QAASC,EAAAA,QACTC,aAAcD,EAAAA,aACdE,YAAaF,EAAAA,YACbG,WAAYH,EAAAA,WACZI,OAAQJ,EAAAA,OACRK,gBAAiBL,EAAAA,iB,iPA9DxB,GACEM,WAAY,CACVC,YAAAA,EAAAA,GAEFC,MAAK,WACH,IAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MAEf,GAAoBC,EAAAA,EAAAA,KAAZd,EAAM,EAANA,QAER,GAAwCe,EAAAA,EAAAA,KAAhCC,EAAa,EAAbA,cAAeC,EAAW,EAAXA,aACvB,GAAuBC,EAAAA,EAAAA,KAAYC,EAAAA,EAAAA,MAA3Bf,EAAS,EAATA,WACR,GAAmBc,EAAAA,EAAAA,KAAYE,EAAAA,EAAAA,MAAvBf,EAAK,EAALA,OAER,GAA4Bc,EAAAA,EAAAA,KAApBE,EAAc,EAAdA,gBACR,GAAwBD,EAAAA,EAAAA,KAAhBE,EAAU,EAAVA,YAER,SAASnB,EAAYoB,GACnBvB,EAAQuB,MAAMC,SAAWD,CAC3B,CAEA,SAASjB,EAAgBmB,GACvB,GAAIA,EAASC,KACX,OAAOD,EAASC,KAAKC,WAAW,MAAO,IAAIA,WAAW,OAAQ,GAElE,UAEezB,IAAY,4CAK3B,OAL2B,0BAA3B,oGACQc,EAAcN,EAAMkB,OAAOC,GAAI7B,EAAQuB,OAAM,OACnDX,EAAOkB,KAAK,CACVJ,KAAM,cACN,2CACJ,wBASA,OAPAK,EAAAA,EAAAA,KAAS,uBAAC,oGACFV,IAAiB,uBACjBC,IAAa,uBACGL,EAAaP,EAAMkB,OAAOC,IAAG,OAAnD7B,EAAQuB,MAAI,OACZS,QAAQC,IAAIjC,EAAQuB,OAAM,4CAGrB,CACLvB,QAAAA,EACAE,aAAAA,EACAC,YAAAA,EACAC,WAAAA,EACAE,gBAAAA,EACAD,OAAAA,EAEJ,G,WCnDF,MAAM6B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://avtomaslo/./src/views-admin/AdminProductEdit.vue","webpack://avtomaslo/./src/views-admin/AdminProductEdit.vue?e6ff"],"sourcesContent":["<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { useProductsStore } from \"@/stores/products\";\r\nimport { useCategoriesStore } from \"@/stores/categories\";\r\nimport { useBrandsStore } from \"@/stores/brands\";\r\nimport useAdminProduct from \"@/composables/useAdminProduct\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport ProductForm from \"@/components-admin/ProductForm.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    ProductForm,\r\n  },\r\n  setup() {\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n\r\n    const { product } = useAdminProduct();\r\n\r\n    const { updateProduct, fetchProduct } = useProductsStore();\r\n    const { categories } = storeToRefs(useCategoriesStore());\r\n    const { brands } = storeToRefs(useBrandsStore());\r\n\r\n    const { fetchCategoreis } = useCategoriesStore();\r\n    const { fetchBrands } = useBrandsStore();\r\n\r\n    function updateImage(value) {\r\n      product.value.imageUrl = value;\r\n    }\r\n\r\n    function getCategoryName(category) {\r\n      if (category.name) {\r\n        return category.name.replaceAll(\"<b>\", \"\").replaceAll(\"</b>\", \"\");\r\n      }\r\n    }\r\n\r\n    async function handleSubmit() {\r\n      await updateProduct(route.params.id, product.value);\r\n      router.push({\r\n        name: \"adminMain\",\r\n      });\r\n    }\r\n\r\n    onMounted(async () => {\r\n      await fetchCategoreis();\r\n      await fetchBrands();\r\n      product.value = await fetchProduct(route.params.id);\r\n      console.log(product.value);\r\n    });\r\n\r\n    return {\r\n      product,\r\n      handleSubmit,\r\n      updateImage,\r\n      categories,\r\n      getCategoryName,\r\n      brands,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"container\">\r\n    <h3 style=\"margin-bottom: 20px\">Редактирование товара</h3>\r\n    <ProductForm\r\n      :product=\"product\"\r\n      :handleSubmit=\"handleSubmit\"\r\n      :updateImage=\"updateImage\"\r\n      :categories=\"categories\"\r\n      :brands=\"brands\"\r\n      :getCategoryName=\"getCategoryName\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<style scoped src=\"../assets/libs/bootstrap.min.css\"></style>\r\n\r\n<style scoped>\r\n.admin .input-group {\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n","import { render } from \"./AdminProductEdit.vue?vue&type=template&id=6d58bf4c&scoped=true\"\nimport script from \"./AdminProductEdit.vue?vue&type=script&lang=js\"\nexport * from \"./AdminProductEdit.vue?vue&type=script&lang=js\"\n\nimport \"../assets/libs/bootstrap.min.css?vue&type=style&index=0&id=6d58bf4c&scoped=true&lang=css\"\nimport \"./AdminProductEdit.vue?vue&type=style&index=1&id=6d58bf4c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Grigoriy\\\\Desktop\\\\avtomaslo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d58bf4c\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_ProductForm","product","$setup","handleSubmit","updateImage","categories","brands","getCategoryName","components","ProductForm","setup","route","useRoute","router","useRouter","useAdminProduct","useProductsStore","updateProduct","fetchProduct","storeToRefs","useCategoriesStore","useBrandsStore","fetchCategoreis","fetchBrands","value","imageUrl","category","name","replaceAll","params","id","push","onMounted","console","log","__exports__","render"],"sourceRoot":""}