"use strict";(self["webpackChunkavtomaslo"]=self["webpackChunkavtomaslo"]||[]).push([[394],{42394:function(n,t,e){e.r(t),e.d(t,{default:function(){return g}});var r=e(73396),a=e(49242),o=function(n){return(0,r.dD)("data-v-138851e7"),n=n(),(0,r.Cn)(),n},u={class:"container"},l=o((function(){return(0,r._)("h3",null,"Вход в админ-панель",-1)})),s=o((function(){return(0,r._)("label",null,"Логин",-1)})),i=o((function(){return(0,r._)("label",null,"Пароль",-1)})),c=o((function(){return(0,r._)("button",{type:"submit",class:"btn btn-secondary"},"Войти",-1)}));function p(n,t,e,o,p,d){return(0,r.wg)(),(0,r.iD)("div",u,[l,(0,r._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)((function(){return o.handleSubmit&&o.handleSubmit.apply(o,arguments)}),["prevent"]))},[s,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(n){return o.login=n}),class:"form-control",type:"text"},null,512),[[a.nr,o.login]]),i,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(n){return o.password=n}),class:"form-control",type:"password"},null,512),[[a.nr,o.password]]),c],32)])}var d=e(50124),f=e(48534),v=(e(38862),e(57658),e(44870)),m=e(46943),h=e(50086),b=e(22483),w={setup:function(){var n=(0,v.iH)(""),t=(0,v.iH)(""),e=(0,b.tv)();function r(){return a.apply(this,arguments)}function a(){return a=(0,f.Z)((0,d.Z)().mark((function r(){var a,o;return(0,d.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,a={"Content-Type":"application/json"},r.next=4,m.Z.post("".concat(h.Z.API_URL,"/users/login"),JSON.stringify({login:n.value,password:t.value}),{headers:a});case 4:o=r.sent,localStorage.setItem("token",o.data.token),e.push("/admin"),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.log(r.t0),alert("Неверный логин или пароль");case 13:case"end":return r.stop()}}),r,null,[[0,9]])}))),a.apply(this,arguments)}return{handleSubmit:r,login:n,password:t}}},y=e(40089);const _=(0,y.Z)(w,[["render",p],["__scopeId","data-v-138851e7"]]);var g=_}}]);
//# sourceMappingURL=394-legacy.0adde806.js.map