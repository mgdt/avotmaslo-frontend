{"version":3,"file":"js/394-legacy.0adde806.js","mappings":"gQAuCOA,MAAM,a,uBACTC,EAAAA,EAAAA,GAA4B,UAAxB,uBAAmB,M,uBAErBA,EAAAA,EAAAA,GAAoB,aAAb,SAAK,M,uBAEZA,EAAAA,EAAAA,GAAqB,aAAd,UAAM,M,uBAEbA,EAAAA,EAAAA,GAA8D,UAAtDC,KAAK,SAASF,MAAM,qBAAoB,SAAK,M,0CAPzDG,EAAAA,EAAAA,IASM,MATNC,EASM,CARJC,GACAJ,EAAAA,EAAAA,GAMO,QANAK,SAAM,wCAAUC,EAAAA,cAAAA,EAAAA,aAAAA,MAAAA,EAAAA,UAAY,kB,CACjCC,GAAoB,SACpBP,EAAAA,EAAAA,GAA0D,S,qDAA1CM,EAAAA,MAAK,IAAEP,MAAM,eAAeE,KAAK,Q,iBAAjCK,EAAAA,SAChBE,GAAqB,SACrBR,EAAAA,EAAAA,GAAiE,S,qDAAjDM,EAAAA,SAAQ,IAAEP,MAAM,eAAeE,KAAK,Y,iBAApCK,EAAAA,YAChBG,GAA8D,K,2FAxCpE,GACEC,MAAK,WACH,IAAMC,GAAQC,EAAAA,EAAAA,IAAI,IACZC,GAAWD,EAAAA,EAAAA,IAAI,IACfE,GAASC,EAAAA,EAAAA,MAAW,SAEXC,IAAY,4CAe3B,OAf2B,0BAA3B,4FAE0D,OAF1D,SAEUC,EAAU,CAAE,eAAgB,oBAAoB,SAE/BC,EAAAA,EAAAA,KAAW,GAAD,OAC5BC,EAAAA,EAAAA,QAAc,gBACjBC,KAAKC,UAAU,CAAEV,MAAOA,EAAMW,MAAOT,SAAUA,EAASS,QACxD,CAAEL,QAAAA,IACH,OAJKM,EAAO,OAKbC,aAAaC,QAAQ,QAASF,EAASG,KAAKC,OAC5Cb,EAAOc,KAAK,UAAS,mDAErBC,QAAQC,IAAI,EAAD,IACXC,MAAM,6BAA4B,yDAEtC,wBAEA,MAAO,CACLf,aAAAA,EACAL,MAAAA,EACAE,SAAAA,EAEJ,G,WC1BF,MAAMmB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://avtomaslo/./src/views-admin/AdminLogin.vue","webpack://avtomaslo/./src/views-admin/AdminLogin.vue?7ddd"],"sourcesContent":["<script>\r\nimport { ref } from \"vue\";\r\nimport axios from \"axios\";\r\nimport config from \"@/config\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  setup() {\r\n    const login = ref(\"\");\r\n    const password = ref(\"\");\r\n    const router = useRouter();\r\n\r\n    async function handleSubmit() {\r\n      try {\r\n        const headers = { \"Content-Type\": \"application/json\" };\r\n\r\n        const response = await axios.post(\r\n          `${config.API_URL}/users/login`,\r\n          JSON.stringify({ login: login.value, password: password.value }),\r\n          { headers }\r\n        );\r\n        localStorage.setItem(\"token\", response.data.token);\r\n        router.push(\"/admin\");\r\n      } catch (error) {\r\n        console.log(error);\r\n        alert(\"Неверный логин или пароль\");\r\n      }\r\n    }\r\n\r\n    return {\r\n      handleSubmit,\r\n      login,\r\n      password,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"container\">\r\n    <h3>Вход в админ-панель</h3>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n      <label>Логин</label>\r\n      <input v-model=\"login\" class=\"form-control\" type=\"text\" />\r\n      <label>Пароль</label>\r\n      <input v-model=\"password\" class=\"form-control\" type=\"password\" />\r\n      <button type=\"submit\" class=\"btn btn-secondary\">Войти</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped src=\"../assets/libs/bootstrap.min.css\"></style>\r\n\r\n<style scoped>\r\nh3 {\r\n  margin-top: 30px;\r\n  margin-bottom: 30px;\r\n}\r\ninput {\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n","import { render } from \"./AdminLogin.vue?vue&type=template&id=138851e7&scoped=true\"\nimport script from \"./AdminLogin.vue?vue&type=script&lang=js\"\nexport * from \"./AdminLogin.vue?vue&type=script&lang=js\"\n\nimport \"../assets/libs/bootstrap.min.css?vue&type=style&index=0&id=138851e7&scoped=true&lang=css\"\nimport \"./AdminLogin.vue?vue&type=style&index=1&id=138851e7&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Grigoriy\\\\Desktop\\\\avtomaslo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-138851e7\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","$setup","_hoisted_3","_hoisted_4","_hoisted_5","setup","login","ref","password","router","useRouter","handleSubmit","headers","axios","config","JSON","stringify","value","response","localStorage","setItem","data","token","push","console","log","alert","__exports__","render"],"sourceRoot":""}