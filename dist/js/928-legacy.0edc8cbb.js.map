{"version":3,"file":"js/928-legacy.0edc8cbb.js","mappings":"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","sources":["webpack://avtomaslo/./src/stores/blog.js","webpack://avtomaslo/./src/views/BlogView.vue","webpack://avtomaslo/./src/views/BlogView.vue?ed56"],"sourcesContent":["import axios from \"axios\";\r\nimport config from \"@/config\";\r\nimport { defineStore } from \"pinia\";\r\nimport { ref } from \"vue\";\r\n\r\nexport const useBlogStore = defineStore(\"blog\", () => {\r\n  const articles = ref([]);\r\n\r\n  async function fetchArticles() {\r\n    const response = await axios.get(`${config.API_URL}/blog`);\r\n    articles.value = response.data;\r\n  }\r\n\r\n  async function fetchArticle(id) {\r\n    const response = await axios.get(`${config.API_URL}/blog/${id}`);\r\n    return response.data;\r\n  }\r\n\r\n  async function fetchArticleBySlug(slug) {\r\n    const response = await axios.get(`${config.API_URL}/blog/slug/${slug}`);\r\n    return response.data;\r\n  }\r\n\r\n  async function createArticle(article) {\r\n    try {\r\n      const token = localStorage.getItem(\"token\")\r\n        ? localStorage.getItem(\"token\")\r\n        : \"\";\r\n      const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      };\r\n\r\n      const response = await axios.post(\r\n        `${config.API_URL}/blog`,\r\n        JSON.stringify(article),\r\n        { headers }\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(\"Ошибка\");\r\n    }\r\n  }\r\n\r\n  async function deleteArticle(id) {\r\n    try {\r\n      const token = localStorage.getItem(\"token\")\r\n        ? localStorage.getItem(\"token\")\r\n        : \"\";\r\n      const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      };\r\n\r\n      const response = await axios.delete(`${config.API_URL}/blog/${id}`, {\r\n        headers,\r\n      });\r\n      const filteredArticles = articles.value.filter(\r\n        (article) => article._id != id\r\n      );\r\n      articles.value = filteredArticles;\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(\"Ошибка\");\r\n    }\r\n  }\r\n\r\n  async function updateArticle(id, article) {\r\n    try {\r\n      const token = localStorage.getItem(\"token\")\r\n        ? localStorage.getItem(\"token\")\r\n        : \"\";\r\n      const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      };\r\n\r\n      const response = await axios.put(\r\n        `${config.API_URL}/blog/${id}`,\r\n        JSON.stringify(article),\r\n        { headers }\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(\"Ошибка\");\r\n    }\r\n  }\r\n\r\n  function getImageUrl(article) {\r\n    if (article.imageUrl) {\r\n      return config.API_URL + article.imageUrl;\r\n    }\r\n    return require(\"@/assets/img/placeholder.jpg\");\r\n  }\r\n\r\n  return {\r\n    articles,\r\n    fetchArticles,\r\n    fetchArticle,\r\n    fetchArticleBySlug,\r\n    createArticle,\r\n    deleteArticle,\r\n    updateArticle,\r\n    getImageUrl,\r\n  };\r\n});\r\n","<script>\r\nimport Header from \"../components/Header.vue\";\r\nimport Callback from \"../components/Callback.vue\";\r\nimport Footer from \"../components/Footer.vue\";\r\nimport { useBlogStore } from \"@/stores/blog\";\r\nimport { onMounted, ref, watch, computed } from \"vue\";\r\n\r\nexport default {\r\n  components: {\r\n    Header,\r\n    Callback,\r\n    Footer,\r\n  },\r\n  setup() {\r\n    const blogStore = useBlogStore();\r\n\r\n    function formatDate(timestamp) {\r\n      const date = new Date(timestamp);\r\n      const year = date.getFullYear();\r\n      const month =\r\n        date.getMonth() > 9 ? date.getMonth() + 1 : `0${date.getMonth() + 1}`;\r\n      const day =\r\n        date.getDate() > 9 ? date.getDate() + 1 : `0${date.getDate() + 1}`;\r\n\r\n      return `${day}.${month}.${year}`;\r\n    }\r\n\r\n    const currentPage = ref(1);\r\n    const perPage = 6;\r\n    const limit = ref(6);\r\n\r\n    const slicedArticles = computed(() => {\r\n      const start = (currentPage.value - 1) * limit.value;\r\n      const end = currentPage.value * limit.value;\r\n      return blogStore.articles.slice(start, end);\r\n    });\r\n\r\n    const pagesCount = computed(() => {\r\n      return Math.ceil(blogStore.articles.length / limit.value);\r\n    });\r\n\r\n    watch(\r\n      () => blogStore.articles,\r\n      async () => {\r\n        currentPage.value = 1;\r\n      },\r\n      { deep: true }\r\n    );\r\n\r\n    watch(\r\n      () => currentPage,\r\n      () => {\r\n        window.scrollTo(0, 0);\r\n      },\r\n      { deep: true }\r\n    );\r\n\r\n    onMounted(async () => {\r\n      await blogStore.fetchArticles();\r\n    });\r\n\r\n    return {\r\n      blogStore,\r\n      currentPage,\r\n      limit,\r\n      slicedArticles,\r\n      pagesCount,\r\n      perPage,\r\n      formatDate,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"page-blog\">\r\n    <img src=\"../assets/img/blog/bg-1.png\" alt=\"\" class=\"blog__bg-top\" />\r\n    <img src=\"../assets/img/blog/bg-2.png\" alt=\"\" class=\"blog__bg-btm\" />\r\n\r\n    <Header />\r\n\r\n    <section class=\"breadcrumbs\">\r\n      <div class=\"container\">\r\n        <RouterLink to=\"/\" class=\"breadcrumbs__link\">Главная</RouterLink>\r\n        <img\r\n          src=\"../assets/img/breadcrumbs-arrow.svg\"\r\n          alt=\"\"\r\n          class=\"breadcrumbs__arrow\"\r\n        />\r\n        <span class=\"breadcrumbs__current\">Блог</span>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"blog\">\r\n      <div class=\"container\">\r\n        <h1 class=\"section__title blog__title\">\r\n          <span>Блог компании</span>\r\n        </h1>\r\n        <div class=\"blog__items\">\r\n          <RouterLink\r\n            :to=\"`/article/${article.slug}`\"\r\n            class=\"blog__item\"\r\n            v-for=\"article in slicedArticles\"\r\n            :key=\"article._id\"\r\n          >\r\n            <img\r\n              :src=\"blogStore.getImageUrl(article)\"\r\n              alt=\"\"\r\n              class=\"blog__item-img\"\r\n            />\r\n            <div class=\"blog__item-date\">\r\n              {{ formatDate(article.createdAt) }}\r\n            </div>\r\n            <h3 class=\"blog__item-title\">\r\n              {{ article.title }}\r\n            </h3>\r\n            <div class=\"blog__item-link\">Читать статью</div>\r\n          </RouterLink>\r\n        </div>\r\n        <div class=\"blog__nav\" v-show=\"blogStore.articles.length > limit\">\r\n          <div class=\"pagination\">\r\n            <div\r\n              class=\"pagination__prev pagination__button\"\r\n              @click=\"currentPage > 1 ? currentPage-- : ''\"\r\n            >\r\n              <div class=\"pagination__arrow\">\r\n                <svg\r\n                  width=\"9\"\r\n                  height=\"13\"\r\n                  viewBox=\"0 0 9 13\"\r\n                  fill=\"none\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path d=\"M8 12L2 6.5L8 1\" stroke=\"black\" stroke-width=\"2\" />\r\n                </svg>\r\n              </div>\r\n              <div class=\"pagination__button-text\">Назад</div>\r\n            </div>\r\n\r\n            <div class=\"pagination__pages\">\r\n              <div\r\n                class=\"pagination__page\"\r\n                :class=\"{ 'pagination__page--active': page == currentPage }\"\r\n                @click=\"currentPage = page\"\r\n                v-for=\"(page, index) in pagesCount\"\r\n                :key=\"index\"\r\n              ></div>\r\n            </div>\r\n\r\n            <div\r\n              class=\"pagination__next pagination__button\"\r\n              @click=\"currentPage < pagesCount ? currentPage++ : ''\"\r\n            >\r\n              <div class=\"pagination__button-text\">Вперёд</div>\r\n              <div class=\"pagination__arrow\">\r\n                <svg\r\n                  width=\"9\"\r\n                  height=\"13\"\r\n                  viewBox=\"0 0 9 13\"\r\n                  fill=\"none\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path d=\"M1 12L7 6.5L1 1\" stroke=\"black\" stroke-width=\"2\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button @click=\"limit += perPage\" class=\"blog__button btn-primary\">\r\n            Показать больше\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <Callback />\r\n\r\n    <Footer />\r\n  </div>\r\n</template>\r\n\r\n<style scoped src=\"@/assets/css/blog.css\"></style>\r\n","import { render } from \"./BlogView.vue?vue&type=template&id=52ca08f4&scoped=true\"\nimport script from \"./BlogView.vue?vue&type=script&lang=js\"\nexport * from \"./BlogView.vue?vue&type=script&lang=js\"\n\nimport \"@/assets/css/blog.css?vue&type=style&index=0&id=52ca08f4&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Grigoriy\\\\Desktop\\\\avtomaslo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-52ca08f4\"]])\n\nexport default __exports__"],"names":["useBlogStore","defineStore","articles","ref","fetchArticles","axios","config","response","value","data","fetchArticle","id","fetchArticleBySlug","slug","createArticle","article","token","localStorage","getItem","headers","Authorization","JSON","stringify","console","log","alert","deleteArticle","filteredArticles","filter","_id","updateArticle","getImageUrl","imageUrl","require","class","_createElementVNode","src","_imports_0","alt","_imports_1","_imports_2","width","height","viewBox","fill","xmlns","d","stroke","_hoisted_18","_hoisted_19","_hoisted_23","_hoisted_24","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_Header","_hoisted_4","_hoisted_5","_component_RouterLink","to","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_Fragment","$setup","_createBlock","key","_hoisted_13","createdAt","_hoisted_14","title","_hoisted_15","_hoisted_16","_hoisted_17","onClick","_hoisted_21","page","index","length","_component_Callback","_component_Footer","components","Header","Callback","Footer","setup","blogStore","formatDate","timestamp","date","Date","year","getFullYear","month","getMonth","day","getDate","currentPage","perPage","limit","slicedArticles","computed","start","end","slice","pagesCount","Math","ceil","watch","deep","window","scrollTo","onMounted","__exports__","render"],"sourceRoot":""}