"use strict";(self["webpackChunkavtomaslo"]=self["webpackChunkavtomaslo"]||[]).push([[344],{2263:function(t,n,e){e.d(n,{j:function(){return s}});var r=e(50124),a=e(48534),u=(e(92222),e(38862),e(57658),e(57327),e(41539),e(46943)),c=e(50086),o=e(13854),i=e(44870),s=(0,o.Q_)("faq",(function(){var t=(0,i.iH)([]);function n(){return e.apply(this,arguments)}function e(){return e=(0,a.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("".concat(c.Z.API_URL,"/faq"));case 2:e=n.sent,t.value=e.data;case 4:case"end":return n.stop()}}),n)}))),e.apply(this,arguments)}function o(t){return s.apply(this,arguments)}function s(){return s=(0,a.Z)((0,r.Z)().mark((function t(n){var e;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(c.Z.API_URL,"/faq/").concat(n));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function l(t){return p.apply(this,arguments)}function p(){return p=(0,a.Z)((0,r.Z)().mark((function n(e){var a,o,i;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a=localStorage.getItem("token")?localStorage.getItem("token"):"",o={"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},n.next=5,u.Z.post("".concat(c.Z.API_URL,"/faq"),JSON.stringify(e),{headers:o});case 5:i=n.sent,t.value.push(i.data),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),console.log(n.t0),alert("Ошибка");case 13:case"end":return n.stop()}}),n,null,[[0,9]])}))),p.apply(this,arguments)}function f(t){return d.apply(this,arguments)}function d(){return d=(0,a.Z)((0,r.Z)().mark((function n(e){var a,o,i;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a=localStorage.getItem("token")?localStorage.getItem("token"):"",o={"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},n.next=5,u.Z["delete"]("".concat(c.Z.API_URL,"/faq/").concat(e),{headers:o});case 5:n.sent,i=t.value.filter((function(t){return t._id!=e})),t.value=i,n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](0),console.log(n.t0),alert("Ошибка");case 14:case"end":return n.stop()}}),n,null,[[0,10]])}))),d.apply(this,arguments)}function v(t,n){return h.apply(this,arguments)}function h(){return h=(0,a.Z)((0,r.Z)().mark((function t(n,e){var a,o;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("token")?localStorage.getItem("token"):"",o={"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},t.next=5,u.Z.put("".concat(c.Z.API_URL,"/faq/").concat(n),JSON.stringify(e),{headers:o});case 5:t.sent,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),alert("Ошибка");case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))),h.apply(this,arguments)}return{faqs:t,fetchFaqs:n,fetchFaq:o,createFaq:l,deleteFaq:f,updateFaq:v}}))},36344:function(t,n,e){e.r(n),e.d(n,{default:function(){return V}});var r=e(50124),a=e(48534),u=e(73396),c=e(44870),o=e(49242),i=e(2263),s=function(t){return(0,u.dD)("data-v-53c51ccf"),t=t(),(0,u.Cn)(),t},l={class:"container"},p=s((function(){return(0,u._)("h3",null,"Часто задаваемые вопросы",-1)})),f={class:"faqs"},d=["onSubmit"],v={class:"input-group"},h=s((function(){return(0,u._)("div",{class:"input-group-prepend"},[(0,u._)("span",{class:"input-group-text",id:""},"Вопрос")],-1)})),g=["onInput","onUpdate:modelValue"],m={class:"input-group"},_=s((function(){return(0,u._)("div",{class:"input-group-prepend"},[(0,u._)("span",{class:"input-group-text",id:""},"Ответ")],-1)})),w=["onInput","onUpdate:modelValue"],Z={key:0,style:{"margin-right":"10px"},class:"btn btn-secondary",type:"submit"},y=["onClick"],q=s((function(){return(0,u._)("hr",null,null,-1)})),k=["onSubmit"],x={class:"input-group"},b=s((function(){return(0,u._)("div",{class:"input-group-prepend"},[(0,u._)("span",{class:"input-group-text",id:""},"Вопрос")],-1)})),I={class:"input-group"},S=s((function(){return(0,u._)("div",{class:"input-group-prepend"},[(0,u._)("span",{class:"input-group-text",id:""},"Ответ")],-1)})),U=s((function(){return(0,u._)("button",{type:"submit",class:"btn btn-secondary"},"Добавить",-1)})),F={__name:"AdminFaq",setup:function(t){var n=(0,c.iH)({title:"",content:""}),e=(0,i.j)();function s(){return F.apply(this,arguments)}function F(){return F=(0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.createFaq(n.value);case 2:n.value.title="",n.value.content="";case 4:case"end":return t.stop()}}),t)}))),F.apply(this,arguments)}function A(t,n){n.updated=!1,e.updateFaq(t,n)}function C(t){confirm("Удалить вопрос?")&&e.deleteFaq(t)}return(0,u.bv)((0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFaqs();case 2:case"end":return t.stop()}}),t)})))),function(t,r){return(0,u.wg)(),(0,u.iD)("div",l,[p,(0,u._)("div",f,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)((0,c.SU)(e).faqs,(function(t){return(0,u.wg)(),(0,u.iD)("form",{onSubmit:(0,o.iM)((function(n){return A(t._id,t)}),["prevent"]),class:"faq",key:t._id},[(0,u._)("div",v,[h,(0,u.wy)((0,u._)("input",{class:"form-control",onInput:function(n){return t.updated=!0},required:"","onUpdate:modelValue":function(n){return t.title=n}},null,40,g),[[o.nr,t.title]])]),(0,u._)("div",m,[_,(0,u.wy)((0,u._)("textarea",{rows:"3",class:"form-control",required:"",onInput:function(n){return t.updated=!0},"onUpdate:modelValue":function(n){return t.content=n}},null,40,w),[[o.nr,t.content]])]),t.updated?((0,u.wg)(),(0,u.iD)("button",Z," Сохранить ")):(0,u.kq)("",!0),(0,u._)("button",{onClick:function(n){return C(t._id)},type:"button",class:"btn btn-danger"}," Удалить ",8,y),q],40,d)})),128)),(0,u._)("form",{onSubmit:(0,o.iM)(s,["prevent"]),class:"faq"},[(0,u._)("div",x,[b,(0,u.wy)((0,u._)("input",{class:"form-control",required:"","onUpdate:modelValue":r[0]||(r[0]=function(t){return n.value.title=t})},null,512),[[o.nr,n.value.title]])]),(0,u._)("div",I,[S,(0,u.wy)((0,u._)("textarea",{rows:"3",class:"form-control",required:"","onUpdate:modelValue":r[1]||(r[1]=function(t){return n.value.content=t})},null,512),[[o.nr,n.value.content]])]),U],40,k)])])}}},A=e(40089);const C=(0,A.Z)(F,[["__scopeId","data-v-53c51ccf"]]);var V=C}}]);
//# sourceMappingURL=344-legacy.640d88c3.js.map