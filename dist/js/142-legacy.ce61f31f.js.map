{"version":3,"file":"js/142-legacy.ce61f31f.js","mappings":"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","sources":["webpack://avtomaslo/./src/stores/categories.js","webpack://avtomaslo/./src/components-admin/ImageUploader.vue","webpack://avtomaslo/./src/components-admin/ImageUploader.vue?c2c5","webpack://avtomaslo/./src/views-admin/AdminCategories.vue","webpack://avtomaslo/./src/views-admin/AdminCategories.vue?14c4"],"sourcesContent":["import { ref } from \"vue\";\r\nimport config from \"@/config.js\";\r\nimport axios from \"axios\";\r\nimport { defineStore } from \"pinia\";\r\n\r\nexport const useCategoriesStore = defineStore(\"categories\", () => {\r\n  const categories = ref([]);\r\n\r\n  function updateCategoryImage(id, imageUrl) {\r\n    const category = categories.value.find((category) => category._id == id);\r\n    category.imageUrl = imageUrl;\r\n    category.updated = true;\r\n  }\r\n\r\n  async function fetchCategoreis() {\r\n    const response = await axios.get(`${config.API_URL}/categories`);\r\n    categories.value = response.data;\r\n  }\r\n\r\n  async function fetchCategory(id) {\r\n    const response = await axios.get(`${config.API_URL}/categories/${id}`);\r\n    return response.data;\r\n  }\r\n\r\n  async function deleteCategory(id) {\r\n    try {\r\n      const token = localStorage.getItem(\"token\")\r\n        ? localStorage.getItem(\"token\")\r\n        : \"\";\r\n      const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      };\r\n\r\n      const response = await axios.delete(\r\n        `${config.API_URL}/categories/${id}`,\r\n        { headers }\r\n      );\r\n      const filteredCategoreis = categories.value.filter(\r\n        (category) => category._id != id\r\n      );\r\n      categories.value = filteredCategoreis;\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(\"Ошибка\");\r\n    }\r\n  }\r\n\r\n  async function createCategory(category) {\r\n    try {\r\n      const token = localStorage.getItem(\"token\")\r\n        ? localStorage.getItem(\"token\")\r\n        : \"\";\r\n      const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      };\r\n\r\n      const response = await axios.post(\r\n        `${config.API_URL}/categories`,\r\n        JSON.stringify(category),\r\n        { headers }\r\n      );\r\n      categories.value.push(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(\"Ошибка\");\r\n    }\r\n  }\r\n\r\n  async function updateCategory(id, category) {\r\n    try {\r\n      const token = localStorage.getItem(\"token\")\r\n        ? localStorage.getItem(\"token\")\r\n        : \"\";\r\n      const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      };\r\n\r\n      const response = await axios.put(\r\n        `${config.API_URL}/categories/${id}`,\r\n        JSON.stringify(category),\r\n        { headers }\r\n      );\r\n      category.updated = false;\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(\"Ошибка\");\r\n    }\r\n  }\r\n\r\n  function getImageUrl(category) {\r\n    if (category.imageUrl) {\r\n      return config.API_URL + category.imageUrl;\r\n    }\r\n    return require(\"@/assets/img/placeholder.jpg\");\r\n  }\r\n\r\n  return {\r\n    categories,\r\n    fetchCategoreis,\r\n    getImageUrl,\r\n    deleteCategory,\r\n    createCategory,\r\n    fetchCategory,\r\n    updateCategory,\r\n    updateCategoryImage,\r\n  };\r\n});\r\n","<script>\r\nimport { onMounted, onUpdated, ref } from \"vue\";\r\nimport axios from \"axios\";\r\nimport config from \"@/config\";\r\n\r\nexport default {\r\n  props: [\"imageUrlProp\", \"extraInfo\", \"imageMaxWidth\", \"wrapSize\"],\r\n  emits: [\"updateImage\"],\r\n  setup(props, context) {\r\n    const fileInput = ref(null);\r\n    const imageUrl = ref(\"\");\r\n\r\n    async function handleFileInputChange() {\r\n      if (fileInput.value.files[0]) {\r\n        uploadFile();\r\n      }\r\n    }\r\n\r\n    async function uploadFile() {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", fileInput.value.files[0]);\r\n      const token = localStorage.getItem(\"token\")\r\n        ? localStorage.getItem(\"token\")\r\n        : \"\";\r\n      const headers = {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n        Authorization: `Bearer ${token}`,\r\n      };\r\n      const response = await axios.post(`${config.API_URL}/upload`, formData, {\r\n        headers,\r\n      });\r\n      imageUrl.value = \"/uploads/\" + response.data.filename;\r\n      context.emit(\r\n        \"updateImage\",\r\n        \"/uploads/\" + response.data.filename,\r\n        props.extraInfo\r\n      );\r\n    }\r\n\r\n    onMounted(() => {\r\n      imageUrl.value = props.imageUrlProp;\r\n    });\r\n\r\n    onUpdated(() => {\r\n      imageUrl.value = props.imageUrlProp;\r\n    });\r\n\r\n    return {\r\n      handleFileInputChange,\r\n      fileInput,\r\n      imageUrl,\r\n      config,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"input-group\">\r\n    <label\r\n      class=\"image-wrap\"\r\n      :style=\"`width: ${wrapSize}px; height: ${wrapSize}px`\"\r\n    >\r\n      <img\r\n        v-if=\"imageUrl\"\r\n        :src=\"config.API_URL + imageUrl\"\r\n        :style=\"`max-width: ${imageMaxWidth}px; max-height: ${imageMaxWidth}px;`\"\r\n        class=\"image-wrap-img\"\r\n        alt=\"\"\r\n      />\r\n      <div class=\"image-overlay\">\r\n        <span>Нажмите, чтобы загрузить или обновить изображение</span>\r\n      </div>\r\n      <span class=\"image-wrap-text\" v-if=\"!imageUrl\"\r\n        >Нажмите, чтобы загрузить или обновить изображение</span\r\n      >\r\n      <input type=\"file\" ref=\"fileInput\" @change=\"handleFileInputChange\" />\r\n    </label>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\ninput[type=\"file\"] {\r\n  display: none;\r\n}\r\n.image-wrap {\r\n  width: 300px;\r\n  height: 300px;\r\n  border: 1px solid lightgray;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n.image-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  opacity: 0;\r\n  visibility: hidden;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  color: white;\r\n  z-index: 3;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.image-wrap-text {\r\n  transition-duration: 0.2s;\r\n}\r\n.image-wrap:hover .image-wrap-text {\r\n  visibility: hidden;\r\n  opacity: 0;\r\n}\r\n.image-wrap:hover .image-overlay {\r\n  opacity: 1;\r\n  visibility: visible;\r\n}\r\n.image-wrap-img {\r\n  max-width: 170px;\r\n  max-height: 170px;\r\n}\r\n</style>\r\n","import { render } from \"./ImageUploader.vue?vue&type=template&id=f8d050ea&scoped=true\"\nimport script from \"./ImageUploader.vue?vue&type=script&lang=js\"\nexport * from \"./ImageUploader.vue?vue&type=script&lang=js\"\n\nimport \"./ImageUploader.vue?vue&type=style&index=0&id=f8d050ea&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Grigoriy\\\\Desktop\\\\avtomaslo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f8d050ea\"]])\n\nexport default __exports__","<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useCategoriesStore } from \"@/stores/categories.js\";\r\nimport ImageUploader from \"@/components-admin/ImageUploader.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    ImageUploader,\r\n  },\r\n  setup() {\r\n    const { categories } = storeToRefs(useCategoriesStore());\r\n    const {\r\n      createCategory,\r\n      fetchCategoreis,\r\n      updateCategoryImage,\r\n      updateCategory,\r\n      deleteCategory,\r\n    } = useCategoriesStore();\r\n\r\n    const newCategory = ref({\r\n      imageUrl: \"\",\r\n      name: \"\",\r\n      slug: \"\",\r\n    });\r\n\r\n    function updateImage(value, extraInfo) {\r\n      if (extraInfo.id == \"new\") {\r\n        newCategory.value.imageUrl = value;\r\n        return;\r\n      }\r\n      updateCategoryImage(extraInfo.id, value);\r\n    }\r\n\r\n    async function handleCreate() {\r\n      await createCategory(newCategory.value);\r\n      newCategory.value.imageUrl = \"\";\r\n      newCategory.value.name = \"\";\r\n    }\r\n\r\n    async function handleUpdate(id, category) {\r\n      await updateCategory(id, category);\r\n      alert(\"Успешно\");\r\n    }\r\n\r\n    async function handleDelete(id) {\r\n      if (confirm(\"Удалить категорию?\")) {\r\n        await deleteCategory(id);\r\n      }\r\n    }\r\n\r\n    onMounted(async () => {\r\n      await fetchCategoreis();\r\n    });\r\n\r\n    return {\r\n      categories,\r\n      updateImage,\r\n      newCategory,\r\n      handleCreate,\r\n      handleUpdate,\r\n      handleDelete,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"container\">\r\n    <h4 style=\"margin-bottom: 20px\">Категории</h4>\r\n    <div class=\"categories\">\r\n      <form\r\n        @submit.prevent=\"handleUpdate(category._id, category)\"\r\n        class=\"category\"\r\n        v-for=\"category in categories\"\r\n        :key=\"category._id\"\r\n      >\r\n        <ImageUploader\r\n          :extraInfo=\"{ id: category._id }\"\r\n          :imageMaxWidth=\"500\"\r\n          :wrapSize=\"500\"\r\n          @updateImage=\"updateImage\"\r\n          :imageUrlProp=\"category.imageUrl\"\r\n        />\r\n        <div class=\"input-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <span class=\"input-group-text\" id=\"\">ID</span>\r\n          </div>\r\n          <input\r\n            @input=\"category.updated = true\"\r\n            placeholder=\"Без пробелов на англ. языке\"\r\n            class=\"form-control\"\r\n            required\r\n            v-model=\"category.slug\"\r\n          />\r\n        </div>\r\n        <div class=\"input-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <span class=\"input-group-text\" id=\"\">Название</span>\r\n          </div>\r\n          <textarea\r\n            @input=\"category.updated = true\"\r\n            class=\"form-control\"\r\n            required\r\n            v-model=\"category.name\"\r\n          ></textarea>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          v-if=\"category.updated\"\r\n          style=\"margin-right: 10px\"\r\n          class=\"btn\"\r\n          :class=\"{\r\n            'btn-secondary': category.updated,\r\n          }\"\r\n        >\r\n          Сохранить\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          @click=\"handleDelete(category._id)\"\r\n          class=\"btn btn-danger\"\r\n        >\r\n          Удалить\r\n        </button>\r\n      </form>\r\n      <form class=\"category\" @submit.prevent=\"handleCreate\">\r\n        <ImageUploader\r\n          :imageUrlProp=\"newCategory.imageUrl\"\r\n          :imageMaxWidth=\"500\"\r\n          :wrapSize=\"500\"\r\n          :extraInfo=\"{ id: 'new' }\"\r\n          @updateImage=\"updateImage\"\r\n        />\r\n        <div class=\"input-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <span class=\"input-group-text\" id=\"\">ID</span>\r\n          </div>\r\n          <input\r\n            placeholder=\"Без пробелов на англ. языке\"\r\n            class=\"form-control\"\r\n            required\r\n            v-model=\"newCategory.slug\"\r\n          />\r\n        </div>\r\n        <div class=\"input-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <span class=\"input-group-text\" id=\"\">Название</span>\r\n          </div>\r\n          <textarea\r\n            class=\"form-control\"\r\n            required\r\n            v-model=\"newCategory.name\"\r\n          ></textarea>\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn-secondary\">Добавить</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped src=\"../assets/libs/bootstrap.min.css\"></style>\r\n\r\n<style scoped>\r\n.admin .input-group {\r\n  margin-bottom: 10px;\r\n}\r\n.category {\r\n  width: 500px;\r\n}\r\n.categories {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  padding-bottom: 50px;\r\n}\r\n</style>\r\n","import { render } from \"./AdminCategories.vue?vue&type=template&id=2b910514&scoped=true\"\nimport script from \"./AdminCategories.vue?vue&type=script&lang=js\"\nexport * from \"./AdminCategories.vue?vue&type=script&lang=js\"\n\nimport \"../assets/libs/bootstrap.min.css?vue&type=style&index=0&id=2b910514&scoped=true&lang=css\"\nimport \"./AdminCategories.vue?vue&type=style&index=1&id=2b910514&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Grigoriy\\\\Desktop\\\\avtomaslo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2b910514\"]])\n\nexport default __exports__"],"names":["useCategoriesStore","defineStore","categories","ref","updateCategoryImage","id","imageUrl","category","value","find","_id","updated","fetchCategoreis","axios","config","response","data","fetchCategory","deleteCategory","token","localStorage","getItem","headers","Authorization","filteredCategoreis","filter","console","log","alert","createCategory","JSON","stringify","push","updateCategory","getImageUrl","require","class","_createElementVNode","_createElementBlock","_hoisted_1","style","$props","$setup","src","API_URL","alt","_hoisted_3","_hoisted_4","type","onChange","props","emits","setup","context","fileInput","handleFileInputChange","files","uploadFile","formData","FormData","append","filename","emit","extraInfo","onMounted","imageUrlProp","onUpdated","__exports__","render","_hoisted_2","_Fragment","onSubmit","key","_createVNode","_component_ImageUploader","imageMaxWidth","wrapSize","onUpdateImage","_hoisted_5","_hoisted_6","onInput","placeholder","required","slug","_hoisted_8","_hoisted_9","name","onClick","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","components","ImageUploader","storeToRefs","newCategory","updateImage","handleCreate","handleUpdate","handleDelete","confirm"],"sourceRoot":""}