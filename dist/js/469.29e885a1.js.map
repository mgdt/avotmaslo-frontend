{"version":3,"file":"js/469.29e885a1.js","mappings":"oPA8DOA,MAAM,a,uBACTC,EAAAA,EAAAA,GAAsD,MAAlDC,MAAA,0BAA4B,qBAAiB,M,wEADnDC,EAAAA,EAAAA,IAUM,MAVNC,EAUM,CATJC,GACAC,EAAAA,EAAAA,IAOEC,EAAAA,CANCC,QAASC,EAAAA,QACTC,aAAcD,EAAAA,aACdE,YAAaF,EAAAA,YACbG,WAAYH,EAAAA,WACZI,OAAQJ,EAAAA,OACRK,gBAAiBL,EAAAA,iB,iPA5DxB,GACEM,WAAY,CACVC,YAAAA,EAAAA,GAEFC,MAAK,WACH,IAAMC,GAASC,EAAAA,EAAAA,MACf,GAAoBC,EAAAA,EAAAA,KAAZZ,EAAM,EAANA,QAER,GAA0Ba,EAAAA,EAAAA,KAAlBC,EAAY,EAAZA,cAER,GAAuBC,EAAAA,EAAAA,KAAYC,EAAAA,EAAAA,MAA3BZ,EAAS,EAATA,WACR,GAAmBW,EAAAA,EAAAA,KAAYE,EAAAA,EAAAA,MAAvBZ,EAAK,EAALA,OAER,GAA4BW,EAAAA,EAAAA,KAApBE,EAAc,EAAdA,gBACR,GAAwBD,EAAAA,EAAAA,KAAhBE,EAAU,EAAVA,YAER,SAAShB,EAAYiB,GACnBpB,EAAQoB,MAAMC,SAAWD,CAC3B,CAEA,SAASd,EAAgBgB,GACvB,GAAIA,EAASC,KACX,OAAOD,EAASC,KAAKC,WAAW,MAAO,IAAIA,WAAW,OAAQ,GAElE,UAEetB,IAAY,4CAK3B,OAL2B,0BAA3B,oGACQY,EAAcd,EAAQoB,OAAM,OAClCV,EAAOe,KAAK,CACVF,KAAM,cACN,2CACJ,wBAQA,OANAG,EAAAA,EAAAA,KAAS,uBAAC,oGACFR,IAAiB,uBACjBC,IAAa,OACnBQ,QAAQC,IAAI5B,EAAQoB,OAAM,4CAGrB,CACLpB,QAAAA,EACAE,aAAAA,EACAC,YAAAA,EACAC,WAAAA,EACAE,gBAAAA,EACAD,OAAAA,EAEJ,G,WCjDF,MAAMwB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://avtomaslo/./src/views-admin/AdminProductCreate.vue","webpack://avtomaslo/./src/views-admin/AdminProductCreate.vue?58a8"],"sourcesContent":["<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useProductsStore } from \"@/stores/products\";\r\nimport { useCategoriesStore } from \"@/stores/categories\";\r\nimport { useBrandsStore } from \"@/stores/brands\";\r\nimport useAdminProduct from \"@/composables/useAdminProduct\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport ProductForm from \"@/components-admin/ProductForm.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    ProductForm,\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const { product } = useAdminProduct();\r\n\r\n    const { createProduct } = useProductsStore();\r\n\r\n    const { categories } = storeToRefs(useCategoriesStore());\r\n    const { brands } = storeToRefs(useBrandsStore());\r\n\r\n    const { fetchCategoreis } = useCategoriesStore();\r\n    const { fetchBrands } = useBrandsStore();\r\n\r\n    function updateImage(value) {\r\n      product.value.imageUrl = value;\r\n    }\r\n\r\n    function getCategoryName(category) {\r\n      if (category.name) {\r\n        return category.name.replaceAll(\"<b>\", \"\").replaceAll(\"</b>\", \"\");\r\n      }\r\n    }\r\n\r\n    async function handleSubmit() {\r\n      await createProduct(product.value);\r\n      router.push({\r\n        name: \"adminMain\",\r\n      });\r\n    }\r\n\r\n    onMounted(async () => {\r\n      await fetchCategoreis();\r\n      await fetchBrands();\r\n      console.log(product.value);\r\n    });\r\n\r\n    return {\r\n      product,\r\n      handleSubmit,\r\n      updateImage,\r\n      categories,\r\n      getCategoryName,\r\n      brands,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"container\">\r\n    <h3 style=\"margin-bottom: 20px\">Добавление товара</h3>\r\n    <ProductForm\r\n      :product=\"product\"\r\n      :handleSubmit=\"handleSubmit\"\r\n      :updateImage=\"updateImage\"\r\n      :categories=\"categories\"\r\n      :brands=\"brands\"\r\n      :getCategoryName=\"getCategoryName\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<style scoped src=\"../assets/libs/bootstrap.min.css\"></style>\r\n\r\n<style scoped>\r\n.admin .input-group {\r\n  margin-bottom: 10px;\r\n}\r\n.custom-select {\r\n  cursor: pointer;\r\n}\r\noption {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import { render } from \"./AdminProductCreate.vue?vue&type=template&id=7be2cfb3&scoped=true\"\nimport script from \"./AdminProductCreate.vue?vue&type=script&lang=js\"\nexport * from \"./AdminProductCreate.vue?vue&type=script&lang=js\"\n\nimport \"../assets/libs/bootstrap.min.css?vue&type=style&index=0&id=7be2cfb3&scoped=true&lang=css\"\nimport \"./AdminProductCreate.vue?vue&type=style&index=1&id=7be2cfb3&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Grigoriy\\\\Desktop\\\\avtomaslo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7be2cfb3\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_ProductForm","product","$setup","handleSubmit","updateImage","categories","brands","getCategoryName","components","ProductForm","setup","router","useRouter","useAdminProduct","useProductsStore","createProduct","storeToRefs","useCategoriesStore","useBrandsStore","fetchCategoreis","fetchBrands","value","imageUrl","category","name","replaceAll","push","onMounted","console","log","__exports__","render"],"sourceRoot":""}